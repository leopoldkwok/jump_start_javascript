Now that we’ve covered how functions create variable scope, we'll address a phe- nomenon called hoisting. Because JavaScript is a very permissive language, it has to do a lot of work under the hood. We’ve already seen this with type coercion, when JavaScript attempts to convert variable types in order to make operations with conflicting types work. Hoisting is another "under the hood" action by JavaScript where it moves all variable declarations to the top of a function. That means that this:

var name = "Emma";

function nameHer() {
	var name;
	console.log(name); // output defined
	name = "Audrey";
}

is the same as:

var name = "Emma";

function nameHer() {
	console.log(name); // outputs underdefined
	name = "Audrey";
	var name;
}

which is the same as:

var name = "Emma";

function nameHer() {
	console.log(name); // outputs undefined
	var name = "Audrey";

}

All three examples are the same because JavaScript reads the body of those functions, and moves all the variable declarations to the top of the function. Note that it only moves the declaration, not the assignment. Under the hood, all three functions end up looking like the first. That’s why the second and third examples output undefined rather that "Emma" as you’d expect. Even though it looks as though we’re using the name variable containing "Emma" before assigning "Audrey" to it, we’re actually de- claring a new and undefined name variable at the top of each function.

